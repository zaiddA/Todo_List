{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zaida\\\\Downloads\\\\TEST\\\\client\\\\src\\\\pages\\\\AdminTodoList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminTodoList = () => {\n  _s();\n  const [todos, setTodos] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    api,\n    isAuthenticated\n  } = useAuth();\n  const fetchTodos = useCallback(async () => {\n    if (!isAuthenticated) {\n      setLoading(false);\n      setTodos([]);\n      return;\n    }\n    try {\n      const response = await api.get(\"/todos\");\n      if (response.data.success) {\n        setTodos(response.data.data);\n      }\n    } catch (error) {\n      var _error$response;\n      console.error(\"Error fetching todos:\", error);\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        setTodos([]);\n      } else {\n        toast.error(\"Failed to load todos. Please try again.\");\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [api, isAuthenticated]);\n  useEffect(() => {\n    fetchTodos();\n  }, [fetchTodos]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this);\n  }\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Please log in to view todos.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-4xl mx-auto p-4 bg-white rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-semibold text-gray-800 mb-6\",\n      children: \"All Tasks\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: todos.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500 text-center\",\n        children: \"No tasks found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this) : todos.map(todo => {\n        var _todo$user;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-4 border rounded-lg ${todo.completed ? \"bg-gray-50\" : \"bg-white\"}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: `text-lg font-medium ${todo.completed ? \"text-gray-500 line-through\" : \"text-gray-800\"}`,\n                children: todo.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 19\n              }, this), todo.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mt-1\",\n                children: todo.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500 mt-2\",\n                children: [\"Created by: \", ((_todo$user = todo.user) === null || _todo$user === void 0 ? void 0 : _todo$user.name) || \"Unknown User\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `px-2 py-1 text-xs rounded-full ${todo.completed ? \"bg-green-100 text-green-800\" : \"bg-yellow-100 text-yellow-800\"}`,\n                children: todo.completed ? \"Completed\" : \"Pending\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)\n        }, todo._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminTodoList, \"tgw6Vl00msfFoCvWAPm5yNAd8GQ=\", false, function () {\n  return [useAuth];\n});\n_c = AdminTodoList;\nexport default AdminTodoList;\nvar _c;\n$RefreshReg$(_c, \"AdminTodoList\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","toast","useAuth","jsxDEV","_jsxDEV","AdminTodoList","_s","todos","setTodos","loading","setLoading","api","isAuthenticated","fetchTodos","response","get","data","success","error","_error$response","console","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","todo","_todo$user","completed","title","description","user","name","_id","_c","$RefreshReg$"],"sources":["C:/Users/zaida/Downloads/TEST/client/src/pages/AdminTodoList.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\nconst AdminTodoList = () => {\r\n  const [todos, setTodos] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { api, isAuthenticated } = useAuth();\r\n\r\n  const fetchTodos = useCallback(async () => {\r\n    if (!isAuthenticated) {\r\n      setLoading(false);\r\n      setTodos([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await api.get(\"/todos\");\r\n      if (response.data.success) {\r\n        setTodos(response.data.data);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching todos:\", error);\r\n      if (error.response?.status === 401) {\r\n        setTodos([]);\r\n      } else {\r\n        toast.error(\"Failed to load todos. Please try again.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [api, isAuthenticated]);\r\n\r\n  useEffect(() => {\r\n    fetchTodos();\r\n  }, [fetchTodos]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"text-center p-4\">\r\n        <p className=\"text-gray-600\">Please log in to view todos.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-4 bg-white rounded-lg shadow-md\">\r\n      <h1 className=\"text-2xl font-semibold text-gray-800 mb-6\">All Tasks</h1>\r\n      <div className=\"space-y-4\">\r\n        {todos.length === 0 ? (\r\n          <p className=\"text-gray-500 text-center\">No tasks found.</p>\r\n        ) : (\r\n          todos.map((todo) => (\r\n            <div\r\n              key={todo._id}\r\n              className={`p-4 border rounded-lg ${\r\n                todo.completed ? \"bg-gray-50\" : \"bg-white\"\r\n              }`}\r\n            >\r\n              <div className=\"flex items-start gap-4\">\r\n                <div className=\"flex-1\">\r\n                  <h3\r\n                    className={`text-lg font-medium ${\r\n                      todo.completed\r\n                        ? \"text-gray-500 line-through\"\r\n                        : \"text-gray-800\"\r\n                    }`}\r\n                  >\r\n                    {todo.title}\r\n                  </h3>\r\n                  {todo.description && (\r\n                    <p className=\"text-gray-600 mt-1\">{todo.description}</p>\r\n                  )}\r\n                  <p className=\"text-sm text-gray-500 mt-2\">\r\n                    Created by: {todo.user?.name || \"Unknown User\"}\r\n                  </p>\r\n                </div>\r\n                <div className=\"flex items-center\">\r\n                  <span\r\n                    className={`px-2 py-1 text-xs rounded-full ${\r\n                      todo.completed\r\n                        ? \"bg-green-100 text-green-800\"\r\n                        : \"bg-yellow-100 text-yellow-800\"\r\n                    }`}\r\n                  >\r\n                    {todo.completed ? \"Completed\" : \"Pending\"}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminTodoList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}